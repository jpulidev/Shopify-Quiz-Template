
{%- for block in section.blocks -%}
    {% if block.settings.selector != blank %}
        {% assign selector = block.settings.selector %}
    {% else %}
        {% assign selector = "PopupModal-" | append: block.id %}
    {% endif %}
    <modal-dialog id="{{selector}}" class="popup-modal" {{ block.shopify_attributes }}>
      <div role="dialog" aria-label="{{ block.settings.text }}" aria-modal="true" class="popup-modal__content" tabindex="-1">
        <button id="ModalClose-{{ block.id }}" type="button" class="popup-modal__toggle" aria-label="{{ 'accessibility.close' | t }}">{% render 'icon-close' %}</button>
        <div class="popup-modal__content-info">
          <h2 class="h2">{{ block.settings.title }}</h1>
          {{block.settings.text}}
          {{ block.settings.content_html }}
        </div>
      </div>
    </modal-dialog>
{%- endfor -%}

{% schema %}
{
    "name": "popups",
    "settings": [
        
    ],
    "blocks": [
        {
            "name": "popup",
            "type": "popup",
            "settings": [
                {
                    "type": "text",
                    "id": "selector",
                    "label": "Seletor"
                },
                {
                    "type": "header",
                    "content": "content"
                },
                {
                    "type": "text",
                    "id": "title",
                    "label": "Title"
                },
                {
                    "type": "richtext",
                    "id": "text",
                    "label": "Text"
                },
                {
                    "type": "html",
                    "id": "content_html",
                    "label": "Content html"
                }
            ]
        }
    ]
}
{% endschema %}